Выполнение базового задания было простым. Полученное новое задание в ТГ вызвало интерес. Изначально был придуман вариант со 100 итерациями. Над сокращением числа пришлось подумать. Итоговый вариант содержит прямое перечисление шаблона из 15 чисел, что, вероятно, является не самым оптимальным способом. Количество сравнений на 3 и 5, вероятно, также можно сократить на 1 или 2, но в рамках имеющейся задачи и объема данных они выглядят адекватными. Вот при миллионе или миллиарде проходов точно нужно будет оптимизировать алгоритм.